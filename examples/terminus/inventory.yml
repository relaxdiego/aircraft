kind: hypervisor.kvm
api_version: v1beta1
spec:
  hosts:
  - name: kvm-1
    data:
      ip_address:   192.168.100.11/24
      interface:    vars/hypervisors/interface
      gateway:      vars/hypervisors/gateway
      nameservers:  [
                      vars/hypervisors/nameserver-1,
                      vars/hypervisors/nameserver-2,
                      vars/hypervisors/nameserver-3,
                    ],
      ssh_user:     secrets/ssh_user
      ssh_password: secrets/ssh_password
      guests:
      - name: config
      - name: infra-1
      - name: infra-2
      - name: infra-3

  - name: kvm-2
    data:
      ip_address: 192.168.100.12/24
      interface:    vars/hypervisors/interface
      gateway:      vars/hypervisors/gateway
      nameservers:  [
                      vars/hypervisors/nameserver-1,
                      vars/hypervisors/nameserver-2,
                      vars/hypervisors/nameserver-3,
                    ],
      ssh_user:     secrets/ssh_user
      ssh_password: secrets/ssh_password
      guests:
      - name: node-1
      - name: node-2
